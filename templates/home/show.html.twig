{% extends 'base.html.twig' %}

{% block title %}Annonce
{% endblock %}

{% block body %}
	<section class="show">
		<div id="slider" class="flexslider">
			<ul class="slides">
				<li>
					<img src="{{ asset('assets/uploads/' ~ annonce.image) }}" alt="{{ annonce.image }}">
				</li>
				{% for img in annonce.images %}
					<li>
						<img src="{{ asset('assets/uploads/' ~ img.name) }}"/>
					</li>
				{% endfor %}
			</ul>
		</div>
		<div id="carousel" class="flexslider">
			<ul class="slides">
				<li>
					<img src="{{ asset('assets/uploads/' ~ annonce.image) }}" alt="{{ annonce.image }}">
				</li>
				{% for img in annonce.images %}
					<li>
						<img src="{{ asset('assets/uploads/' ~ img.name) }}"/>
					</li>
				{% endfor %}
			</ul>
		</div>
	</section>
	<section>
		<div class="details">
			<div class="details__Annonce">
				<h3>{{ annonce.title }}</h3>
				<p>Description :
					{{ annonce.description }}
				</p>
				<p>Ville :
					{{ annonce.ville.title }}
				</p>
				<p>Code postal :
					{{ annonce.ville.codePostal }}
				</p>
				<p>Département
					{{ annonce.departement.title }}
				</p>
				{# <p><img src="{{ annonce.image }}" alt=""></p> #}
				<p>
					{% if annonce.superficie %}
						Superficie du batiment :
						{{ annonce.superficie }}m²
					{% endif %}
				</p>
				<p>
					{% if annonce.superficieTerrain %}
						Superficie du terrain :
						{{ annonce.superficieTerrain }}m²
					{% endif %}
				</p>
				<p>prix
					{{ annonce.price | number_format(0,',', ' ')}}
					€</p>
				<p>Categorie(s) :
					{% for cat in annonce.category %}
						{{ cat.title }}
					{% endfor %}
				</P>
				<p>Status:
					{{ annonce.status ? 'Vente' : 'Location' }}
				</p>
				<p>État:
					{{ annonce.etat}}
				</p>
				<p>CLasse énergétique:
					{% if annonce.dpe %}
						{{ annonce.dpe }}
					{% endif %}
				</p>
				<p>CLass énergétique:</p>
				{% if annonce.ges %}
					{{ annonce.ges }}
				{% endif %}
			</p>
			<p>
				{% if annonce.nbrePieces %}
					Nombre de pièces  :
					{{ annonce.nbrePieces }}
				{% endif %}
			</p>
			<p>
				{% if annonce.nbreChambre %}
					Nombre de chambre  :
					{{ annonce.nbreChambre }}
				{% endif %}
			</p>
			<p>
				{% if annonce.salleBain %}
					Nombre de salle de bain  :
					{{ annonce.salleBain }}
				{% endif %}
			</p>
			<p>
				{% if annonce.wc %}
					Nombre de wc  :
					{{ annonce.wc }}
				{% endif %}
			</p>
			<p>
				{% if annonce.garage %}
					Nombre de garage  :
					{{ annonce.garage }}
				{% endif %}
			</p>
			<p>
				{% if annonce.piscine %}
					Nombre de picine  :
					{{ annonce.piscine }}
				{% endif %}
			</p>
			<div class="red">
				{% if is_granted("ROLE_USER") %}
					{% for favoris in annonce.favoris %}
						{% if favoris.id == app.user.id %}
							<a href="{{ path('retrait_favoris', {id: annonce.id}) }}">
								<i class="fas fa-heart"></i>
							</a>
						{% else %}
							<a href="{{ path('ajout_favoris', {id: annonce.id}) }}">
								<i class="far fa-heart"></i>
							</a>
						{% endif %}
						
					{% else %}
						<a href="{{ path('ajout_favoris', {id: annonce.id}) }}">
							<i class="far fa-heart"></i>
						</a>
					{% endfor %}
				{% endif %}
			</div>
		</div>
		<input type="button" value="Retour" onclick="history.go(-1)">
	</div>
</section>{% endblock %}
