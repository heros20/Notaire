{% extends "base.html.twig" %}

{% block title %}Annonce index
{% endblock %}

{% block body %}
	<section class="container">
		<div class="container_allAnnonces">
			<div class="container_Annonces">
				<div class="container_allAnnonces">
					{% include "home/_filter.html.twig" with {form: form, min: min, max: max} only %}
					<div class="container_annonces">
						{% for annonce in searchAnnonce %}
							<div class="container_annonce">
								{% include "home/_card.html.twig" with {annonce: annonce} only %}
								<div class="container_coeur">
									{% if is_granted("ROLE_USER") %}
										{% for favoris in annonce.favoris %}
											{% if favoris.id == app.user.id %}
												<span>
													<a href="{{ path('retrait_favoris', {id: annonce.id}) }}">
														<i class="fas fa-heart"></i>
													</a>
												</span>
											{% else %}
												<span>
													<a href="{{ path('ajout_favoris', {id: annonce.id}) }}">
														<i class="far fa-heart"></i>
													</a>
												</span>
											{% endif %}
										{% else %}
											<span>
												<a href="{{ path('ajout_favoris', {id: annonce.id}) }}">
													<i class="far fa-heart"></i>
												</a>
											</span>
										{% endfor %}
									{% endif %}
								</div>
							</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	</section>
{% endblock %}
